{% extends "base.html" %}
{% block title %}Language Coach â€” Sign in{% endblock %}

{% block content %}
<section class="py-5">
  <div class="container" style="max-width: 680px;">
    <div class="card shadow-sm">
      <div class="card-body p-4 p-md-5">
        <div class="d-flex align-items-start justify-content-between flex-wrap gap-2 mb-3">
          <div>
            <h1 class="h4 fw-bold mb-1">Sign in</h1>
            <div class="text-muted">Enter your name and email to track your practice progress.</div>
          </div>
          {% if auth_user %}
          <div class="small text-muted">
            Signed in as <strong>{{ auth_user.name }}</strong>
          </div>
          {% endif %}
        </div>

        {% if error %}
        <div class="alert alert-danger" role="alert">{{ error }}</div>
        {% endif %}

        <form method="post" action="{{ url_for('login', next=next) }}" class="mt-3">
          <input type="hidden" name="next" value="{{ next }}">

          <div class="mb-3">
            <label for="name" class="form-label fw-semibold">Name</label>
            <input id="name" name="name" class="form-control" value="{{ name or '' }}" autocomplete="name" required>
          </div>

          <div class="mb-3">
            <label for="email" class="form-label fw-semibold">Email</label>
            <input id="email" name="email" type="email" class="form-control" value="{{ email or '' }}" autocomplete="email" required>
          </div>

          <button type="submit" class="btn btn-primary w-100">
            <i class="fas fa-user-check me-2"></i> Continue
          </button>
        </form>

        <div class="small text-muted mt-3">
          No password (for now). Your progress is saved on this server.
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

